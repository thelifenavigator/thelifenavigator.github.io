<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parent's Dashboard</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <style>
    body {
      font-family: 'Times New Roman', Times, serif;
      margin: 0;
      padding: 0;
      background-color: #f7f7f7;
      user-select: none;
    }

    .header-image {
      width: 350px;
      height: 150px;
      margin: 20px auto;
      display: block;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      object-fit: contain;
    }

    .welcome-section {
      text-align: center;
      margin: 30px 20px;
    }

    .welcome-section h1 {
      font-size: 2.5em;
      color: #0073e6;
      font-family: 'Times New Roman', Times, serif;
    }

    .school-name {
      font-size: 1.5em;
      color: #333;
      text-align: center;
      font-weight: bold;
      margin-top: 10px;
    }

    .parent-info {
      text-align: center;
      font-size: 1.5em;
      font-weight: bold;
      margin: 20px 0;
    }

    .scrolling-messages-container {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      background-color: #eaeaea;
      padding: 10px 0;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .scrolling-messages {
      display: inline-block;
      animation: scrollLeftToRight 25s linear infinite;
      font-size: 1.6em;
      font-weight: bold;
      color: #FF4500;
    }

    @keyframes scrollLeftToRight {
      0% {
        transform: translateX(100%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    .body-text {
      text-align: justify;
      font-size: 1.3em;
      color: #555;
      margin: 30px 10px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .button-section {
      text-align: center;
      margin: 40px 0;
    }

    .button-section button {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 15px 30px;
      margin: 10px;
      border-radius: 5px;
      font-size: 1.2em;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      width: 90%;
      max-width: 300px;
    }

    .button-section button:hover {
      background-color: #0056b3;
      transform: scale(1.05);
    }

    .blue-line {
      width: 60%;
      margin: 20px auto;
      height: 4px;
      background-color: darkblue;
    }

    .reminder-image {
      width: 350px;
      height: 350px;
      border: 3px solid #007BFF;
      border-radius: 5px;
      margin: 20px auto;
      display: block;
      object-fit: cover;
    }

    /* Center the quote header */
    #quoteHeaderLabel {
      text-align: center;
      width: 100%;
      display: block;
      margin: 20px auto;
      font-size: 2em;
      font-weight: bold;
      color: #FF5722; /* Custom color for header */
    }

    /* Center the date-time display */
    .date-time {
      font-size: 2em;
      font-family: 'Orbitron', sans-serif;
      color: #0ff;
      text-shadow: 0 0 10px #0ff, 0 0 20px #0ff, 0 0 30px #00f, 0 0 40px #00f;
      padding: 15px;
      border: 2px solid #0ff;
      border-radius: 10px;
      box-shadow: 0px 4px 20px rgba(0, 255, 255, 0.7), 0px 6px 30px rgba(0, 0, 255, 0.5);
      background: rgba(0, 0, 0, 0.5);
      animation: glow 1.5s infinite alternate ease-in-out;
      margin: 10px auto;
      display: block;
      width: fit-content;
    }

    .clock {
      font-size: 3.5em;
      font-family: 'Orbitron', sans-serif;
      color: #39ff14;
      text-shadow: 0 0 10px #39ff14, 0 0 20px #39ff14, 0 0 30px #ff0000, 0 0 40px #ff0000;
      padding: 15px;
      border: 2px solid #39ff14;
      border-radius: 10px;
      box-shadow: 0px 4px 20px rgba(57, 255, 20, 0.7), 0px 6px 30px rgba(255, 0, 0, 0.5);
      background: rgba(0, 0, 0, 0.5);
      animation: blink 1s infinite alternate ease-in-out;
      margin: 10px auto;
      display: block;
      width: fit-content;
    }

    /* Theater-style video container */
    .theater-video-container {
      border: 5px solid #000;
      border-radius: 20px;
      padding: 10px;
      width: 80%;
      max-width: 720px;
      height: 400px;
      margin: 20px auto;
      background-color: #333;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    }

    .theater-video-container iframe {
      width: 100%;
      height: 100%;
      border-radius: 10px;
    }

    @keyframes glow {
      from {
        opacity: 0.7;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes blink {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .menu-bar {
      display: flex;
      justify-content: center;
      background-color: #0073e6;
      padding: 10px 0;
    }

    .menu-bar a {
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      font-size: 1.2em;
      margin: 0 5px;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .menu-bar a:hover {
      background-color: #005bb5;
    }

    @media only screen and (max-width: 600px) {
      .header-image {
        width: 90%;
      }

      .welcome-section h1 {
        font-size: 1.8em;
      }

      .school-name {
        font-size: 1.2em;
      }

      .button-section button {
        font-size: 1.1em;
      }

      .reminder-image {
        width: 80%;
        height: auto;
      }

      .theater-video-container {
        width: 90%;
        height: 250px;
      }
    }
  </style>
</head>
<body>

  <div id="headerImageWrapper">
    <img id="schoolImage" src="https://thelifenavigator.com/wp-content/uploads/2024/08/parents-teachers-nav-1-1024x585.png" alt="Header Image" class="header-image">
  </div>

  <div class="welcome-section">
    <h1>Welcome to all the parents to the journey of great parenthood</h1>
    <p class="school-name" id="schoolName">School: Loading...</p>
  </div>

  <div class="menu-bar">
    <a href="#">Homepage</a>
    <a href="#">Book My Psychologist</a>
    <a href="#">About Us</a>
    <a href="#">Books</a>
    <a href="#">Contact Us</a>
    <a href="#">News</a>
    <a href="#">Free Courses</a>
    <a href="#">Vision & Mission</a>
    <a href="#">Sponsor a Kid</a>
    <a href="#">Logout</a>
    <a href="#">Explore More</a>
  </div>

  <div class="parent-info">
    <p>Name of the parent: <span id="parentName">Loading...</span></p>
  </div>

  <!-- School Messages from Spreadsheet - Scrolling -->
  <div class="scrolling-messages-container">
    <div class="scrolling-messages" id="scrollingMessage1">Loading message...</div>
  </div>
  <div class="scrolling-messages-container">
    <div class="scrolling-messages" id="scrollingMessage2">Loading second message...</div>
  </div>

  <div class="body-text">
    <p>Parenting is a journey filled with challenges and beautiful moments. 
    Here at The Life Navigator, we aim to equip you with the right skills 
    to nurture your child's emotional, mental, and intellectual growth. 
    Our resources are designed to empower parents with actionable advice, 
    self-care strategies, and child development insights to ensure a positive 
    parenting experience.</p>
  </div>

  <div class="button-section">
    <button onclick="navigateTo('parentsselectsyllabus.html')">Parents Self Care</button>
    <button onclick="navigateTo('kids-mental-health.html')">Kids Mental Health</button>
    <button onclick="navigateTo('parenting-course.html')">Parenting Course</button>
    <button onclick="navigateTo('file:///D:/tln6%20quiz%20page%20work/icse_class-4_all_chapters.html')">Engineering/Medical Skilling</button> 
  </div>

  <div class="blue-line"></div>

  <div class="button-section">
    <button style="background-color: #FF5722; color: #FFFFFF;" onclick="navigateTo('parents-teacher-integration.html')">Parents-Teacher Integration</button>
  </div>

  <div class="blue-line"></div>

  <div class="button-section">
    <button onclick="navigateTo('school-result.html')">School Result</button>
    <button onclick="navigateTo('school-monthly-attendance.html')">School Monthly Attendance</button>
    <button onclick="navigateTo('neet-iit-skilling-results.html')">NEET/IIT Skilling Results</button>
    <button style="background-color: #28A745; color: white;" onclick="navigateTo('download-certificates.html')">Winners & Download Certificates</button>
  </div>

  <!-- Updated Section for the Quote Header and Digital Clock -->
  <div class="beautiful-reminders">
    <h2 id="quoteHeaderLabel">Loading...</h2>
    <img id="reminderImage" src="https://via.placeholder.com/250" alt="Motivational Image" class="reminder-image">
    <div class="date-time">
      <span id="dateDisplay"></span> - <span id="clockDisplay"></span>
    </div>
  </div>

  <!-- Separator line after the digital clock -->
  <div class="blue-line"></div>

  <!-- Video title header -->
  <h2 id="videoTitleLabel" style="text-align: center; font-size: 1.8em; font-weight: bold; color: #ff5722;">Loading video title...</h2>

  <!-- Video container with theater-style border -->
  <div class="theater-video-container">
    <iframe id="videoPlayer" src="" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>

  <!-- Comment Title Header -->
  <h2 id="commentTitleLabel" style="text-align: center; font-size: 1.8em; font-weight: bold; color: #4CAF50; margin-top: 20px;">Loading comment title...</h2>

  <!-- Comment Box Container -->
  <div class="comment-box-container" style="display: flex; justify-content: center; margin-top: 20px;">
    <textarea id="commentBox" placeholder="Type your comment here..." style="width: 80%; max-width: 600px; height: 150px; padding: 15px; font-size: 1.2em; border-radius: 10px; border: 2px solid #4CAF50; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);"></textarea>
    <p id="wordCount" style="text-align: center; color: red;">Max 40 words</p>
  </div>



<!-- Submit Button for Comment -->
<div class="submit-comment" style="text-align: center; margin-top: 20px;">
  <button id="submitComment" style="background-color: #4CAF50; color: white; padding: 10px 30px; font-size: 1.2em; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s ease;">Submit Comment</button>
</div>

  <script>
    // Limit comment to 40 words
    document.getElementById('commentBox').addEventListener('input', function () {
      const commentBox = document.getElementById('commentBox');
      const wordCount = commentBox.value.split(/\s+/).filter(word => word.length > 0).length;
      if (wordCount > 40) {
        commentBox.value = commentBox.value.split(/\s+/).slice(0, 40).join(" ");
        alert('You have reached the 40-word limit.');
      }
      document.getElementById('wordCount').textContent = `Words: ${wordCount}/40`;
    });

    // Function to submit the comment
    document.getElementById('submitComment').addEventListener('click', function() {
      const comment = document.getElementById('commentBox').value.trim();
      if (!comment || comment.split(/\s+/).length > 40) {
        alert('Please make sure your comment is within 40 words.');
        return;
      }

      const formData = new FormData();
      formData.append('username', localStorage.getItem('userId'));
      formData.append('commentBox', comment);

      fetch('https://script.google.com/macros/s/AKfycbxrJe-XKwp7-vFcXrMFCf39BaGNTRWOXEwiQv0YYoqvwrWOhE7ROZByAkJC8fUgUQ38/exec', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.result === 'success') {
          alert('Comment submitted successfully!');
        } else {
          alert('Failed to submit comment.');
        }
      })
      .catch(error => {
        alert('Error submitting comment: ' + error.message);
      });
    });

    // Function to display user data (from localStorage)
    function displayUserData() {
      document.getElementById('commentTitleLabel').textContent = localStorage.getItem('commentTitle') || 'Loading comment title...';
      document.getElementById('commentBox').value = localStorage.getItem('commentBox') || '';
    }

    // Call the display function on page load
    window.onload = function() {
      displayUserData();
    };
  </script>

  <script>
   function displayUserData() {
  const parentName = localStorage.getItem('parentName');
  const schoolName = localStorage.getItem('schoolName');
  const schoolURL = localStorage.getItem('schoolURL');
  const schoolMessage1 = localStorage.getItem('schoolMessage') || 'Loading message...';
  const schoolMessage2 = localStorage.getItem('schoolMessage2') || 'Loading second message...';
  const quoteHeader = localStorage.getItem('quoteHeader') || 'Loading...'; // Quote Header from Q column
  const quoteUrl = localStorage.getItem('quoteUrl');
  const videoTitle = localStorage.getItem('videoTitle') || 'Loading video title...'; // Video title from S column
  const videoUrl = localStorage.getItem('videoUrl') || ''; // YouTube link from T column
  const commentTitle = localStorage.getItem('commentTitle') || 'Loading comment title...'; // Comment title from U column
  const savedComment = localStorage.getItem('commentBox') || ''; // Pre-fill saved comment from V column

  // Set parent and school details
  if (parentName) document.getElementById('parentName').textContent = parentName;
  if (schoolName) document.getElementById('schoolName').textContent = schoolName;

  // Set scrolling messages
  document.getElementById('scrollingMessage1').textContent = schoolMessage1;
  document.getElementById('scrollingMessage2').textContent = schoolMessage2;

  // Set the quote header and image
  document.getElementById('quoteHeaderLabel').textContent = quoteHeader;
  const schoolImageElement = document.getElementById('schoolImage');
  if (schoolURL) schoolImageElement.src = schoolURL;

  const reminderImageElement = document.getElementById('reminderImage');
  if (quoteUrl) reminderImageElement.src = quoteUrl;

  // Set the video title and embed YouTube video
  document.getElementById('videoTitleLabel').textContent = videoTitle;
  if (videoUrl) document.getElementById('videoPlayer').src = videoUrl;

  // Set the comment title
  document.getElementById('commentTitleLabel').textContent = commentTitle;

  // Pre-fill the comment box
  document.getElementById('commentBox').value = savedComment;
}

   function displayDate() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const todayString = now.toLocaleDateString('en-US', options);
      document.getElementById('dateDisplay').textContent = todayString;
    }

    function startClock() {
      setInterval(() => {
        const now = new Date();
        const timeString = now.toLocaleTimeString('en-US', { hour12: true });
        document.getElementById('clockDisplay').textContent = timeString;
      }, 1000);
    }

    window.onload = function() {
      displayUserData();
      displayDate();
      startClock();
    };

    function navigateTo(page) {
      window.location.href = page;
    }
  </script>

  <!-- Disable text copy -->
  <script>
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      alert('Copying content is not allowed on this page.');
    });
  </script>
</body>
</html>
